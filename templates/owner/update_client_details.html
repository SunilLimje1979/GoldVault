<!doctype html>
{% load static %}
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Update Client Profile</title>
    <link rel="manifest" href="{% url 'manifest' request.session.ClientCode %}">
    <link rel="icon" type="image/png" href="{% static 'assets/img/favicon.png' %}" sizes="32x32">
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@latest/dist/ionicons/ionicons.esm.js"></script>
    <script src="{% static 'assets/js/loader.js' %}"></script>
</head>
<body>

<div class="appHeader">
    <div class="left">
        <a href="{% url 'dashboard' %}" class="headerButton goBack">
            <ion-icon name="chevron-back-outline"></ion-icon>
        </a>
    </div>
    <div class="pageTitle" style="font-family:'Poppins',sans-serif;font-size:17px;font-weight:500;">
        Update Client Details
    </div>
</div>

<div id="appCapsule">
    <div class="section mt-2">
        <form method="post" action="{% url 'update_client_details' %}">
            {% csrf_token %}
            <div class="card">
                <div class="card-body pb-1">

                    <!-- Business Name -->
                    <div class="form-group basic animated">
                        <div class="input-wrapper">
                            <label class="label">Business Name</label>
                            <input type="text" class="form-control" name="BusinessName"
                                   placeholder="Business Name"
                                   value="{{ client_data.BusinessName|default_if_none:'' }}" required>
                            <i class="clear-input">
                                <ion-icon name="close-circle"></ion-icon>
                            </i>
                        </div>
                    </div>
                    

                    <!-- Display Name -->
                    <div class="form-group basic animated">
                        <div class="input-wrapper">
                            <label class="label">Display Name</label>
                            <input type="text" class="form-control" name="DisplayName"
                                   placeholder="Display Name"
                                   value="{{ client_data.DisplayName|default_if_none:'' }}">
                            <i class="clear-input">
                                <ion-icon name="close-circle"></ion-icon>
                            </i>
                        </div>
                    </div>

                    <!-- Business Address -->
                    <div class="form-group basic animated">
                        <div class="input-wrapper">
                            <label class="label">Business Address</label>
                            <input type="text" class="form-control" name="BusinessAddress"
                                   placeholder="Business Address"
                                   value="{{ client_data.BusinessAddress|default_if_none:'' }}">
                            <i class="clear-input">
                                <ion-icon name="close-circle"></ion-icon>
                            </i>
                        </div>
                    </div>

                    <!-- City -->
                    {% comment %} <div class="form-group basic animated">
                        <div class="input-wrapper">
                            <label class="label">Business City Id</label>
                            <input type="text" class="form-control" name="BusinessCityId"
                                   placeholder="City Id"
                                   value="{{ client_data.BusinessCityId|default_if_none:'' }}">
                            <i class="clear-input">
                                <ion-icon name="close-circle"></ion-icon>
                            </i>
                        </div>
                    </div>

                    <!-- State -->
                    <div class="form-group basic animated">
                        <div class="input-wrapper">
                            <label class="label">Business State Id</label>
                            <input type="text" class="form-control" name="BusinessStateId"
                                   placeholder="State Id"
                                   value="{{ client_data.BusinessStateId|default_if_none:'' }}">
                            <i class="clear-input">
                                <ion-icon name="close-circle"></ion-icon>
                            </i>
                        </div>
                    </div>
                     {% endcomment %}

                    <!-- Owner Name -->
                    <div class="form-group basic animated">
                        <div class="input-wrapper">
                            <label class="label">Owner Name</label>
                            <input type="text" class="form-control" name="OwnerName"
                                   placeholder="Owner Name"
                                   value="{{ client_data.OwnerName|default_if_none:'' }}">
                            <i class="clear-input">
                                <ion-icon name="close-circle"></ion-icon>
                            </i>
                        </div>
                    </div>

                    <!-- Owner Contact -->
                    <div class="form-group basic animated">
                        <div class="input-wrapper">
                            <label class="label">Owner Contact</label>
                            <input type="text" class="form-control" name="OwnerContact"
                                   placeholder="Owner Contact"
                                   value="{{ client_data.OwnerContact|default_if_none:'' }}">
                            <i class="clear-input">
                                <ion-icon name="close-circle"></ion-icon>
                            </i>
                        </div>
                    </div>

                    <!-- Owner Email -->
                    <div class="form-group basic animated">
                        <div class="input-wrapper">
                            <label class="label">Owner Email</label>
                            <input type="email" class="form-control" name="OwnerEmail"
                                   placeholder="Owner Email"
                                   value="{{ client_data.OwnerEmail|default_if_none:'' }}">
                            <i class="clear-input">
                                <ion-icon name="close-circle"></ion-icon>
                            </i>
                        </div>
                    </div>

                    <!-- Shop Photo URL -->
                    {% comment %} <div class="form-group basic animated">
                        <div class="input-wrapper">
                            <label class="label">Shop Photo</label>
                            <input type="url" class="form-control" name="ShopPhotoURL"
                                   placeholder="Shop Photo URL"
                                   value="{{ client_data.ShopPhotoURL|default_if_none:'' }}">
                            <i class="clear-input">
                                <ion-icon name="close-circle"></ion-icon>
                            </i>
                            {% if client_data.ShopPhotoURL %}
                                <img src="{{ client_data.ShopPhotoURL }}" alt="Shop Photo" style="max-width:100px;margin-top:5px;">
                            {% endif %}
                        </div>
                    </div> {% endcomment %}

                </div>
            </div>

            <div class="row mt-4">
                <div class="col-12 mb-2 px-4">
                    <button type="submit" class="btn btn-block btn-lg w-100"
                            style="background-color:#edc88f !important;border-color:#edc88f !important;color:black !important;border-radius:8px;font-weight:600;">
                        Update Client
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- JS -->
<script src="{% static 'assets/js/lib/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'assets/js/base.js' %}"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>

{% if messages %}
    <script>
        {% for message in messages %}
            var msg = "{{ message|escapejs }}";
            var tag = "{{ message.tags }}";

            var alertType = "info";
            var alertTitle = "Info";

            if (tag.includes("success")) {
                alertType = "success";
                alertTitle = "Success!";
            } else if (tag.includes("danger")) {
                alertType = "error";
                alertTitle = "Error!";
            }

            swal({
                title: alertTitle,
                text: msg,
                type: alertType,
                showConfirmButton: true
            });
        {% endfor %}
    </script>
{% endif %}
</body>
</html>
